
Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-credential-initializer-8hjjn[0m
{"level":"info","ts":1594192247.1446638,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1594192247.1481562,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-working-dir-initializer-mnsxx[0m
{"level":"info","ts":1594192248.4967551,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1594192248.5070782,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-place-tools[0m

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-git-source-simonjamesrowe-environment-simo-5xzjn-fqzh8[0m
{"level":"info","ts":1594192258.507943,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/refs/heads/0.8.0-ns-support: no such file or directory"}
{"level":"info","ts":1594192260.6050372,"logger":"fallback-logger","caller":"git/git.go:103","msg":"Successfully cloned https://github.com/simonjamesrowe/environment-simonjamesrowe-dev.git @ v1.0.109 in path /workspace/source"}

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:dd275d2428e44be3e6b9acb6d01f9a463b184c0c
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-validate-git[0m
Git configured for user: jenkins-x-bot and email jenkins-x@googlegroups.com

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-verify-preinstall[0m
** boot has only been validated on GKE and EKS, we'd love feedback and contributions for other Kubernetes providers
Running in Batch Mode, execution will continue
writing the following to the OWNERS file for the development environment repository:
approvers:
- simonrowe
reviewers:
- simonrowe
Verifying the kubernetes cluster before we try to boot Jenkins X in namespace: **
Trying to lazily create any missing resources to get the current cluster ready to boot Jenkins X
Verifying Ingress...

Using namespace '**' from context named '' on server ''.

Installing kubectl
Downloading https://storage.googleapis.com/kubernetes-release/release/v1.13.2/bin/linux/amd64/kubectl to /builder/home/.**/bin/kubectl...
Downloaded /builder/home/.**/bin/kubectl
Installing helm
Downloading https://get.helm.sh/helm-v2.12.2-linux-amd64.tar.gz to /builder/home/.**/bin/helm.tgz...
Downloaded /builder/home/.**/bin/helm.tgz
Installing helm secrets plugin
Verifying the CLI packages using version stream URL: https://github.com/jenkins-x/jenkins-x-versions.git and git ref: v1.0.497
using version 2.1.68 of **
CLI packages kubectl, git, helm seem to be setup correctly
NAME                          VERSION
Kubernetes cluster            v1.15.11
kubectl (installed in JX_BIN) v1.13.2
helm client                   2.12.2
git                           2.21.1

Verifying Storage...
Storage configuration looks good

Helm installed and configured
Ensuring Helm chart repository https://storage.googleapis.com/chartmuseum.jenkins-x.io is configured
verified there is a ConfigMap config in namespace **
verified there is a ConfigMap plugins in namespace **
Cluster looks good, you are ready to '** boot' now!


Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-install-jx-crds[0m
Jenkins X CRDs upgraded with success

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-install-velero[0m
Modified file /workspace/source/systems/velero/Chart.yaml to set the chart to version 1
creating the lock configmap **-lock-velero
lock configmap **-lock-velero created
cleaning the lock configmap **-lock-velero

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-install-velero-backups[0m
Modified file /workspace/source/systems/velero-backups/Chart.yaml to set the chart to version 1
creating the lock configmap **-lock-velero
lock configmap **-lock-velero created
Ignoring templates/default-backup.yaml
No requirements file: /tmp/**-helm-apply-003982631/velero-backups/requirements.yaml so not checking for missing versions
cleaning the lock configmap **-lock-velero

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-install-nginx-controller[0m
Modified file /workspace/source/systems/**ing/Chart.yaml to set the chart to version 1
creating the lock configmap **-lock-kube-system
lock configmap **-lock-kube-system created

cleaning the lock configmap **-lock-kube-system

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-create-helm-values[0m
defaulting to secret storage scheme local found from requirements file at /workspace/source/**-requirements.yml
defaulting to secret base path to the cluster name simonjamesrowe found from requirements file at /workspace/source/**-requirements.yml
generated schema file /workspace/source/env/parameters.schema.json from template /workspace/source/env/parameters.tmpl.schema.json
Jenkins X Admin Username ***** [Automatically accepted existing value]
Jenkins X Admin Password *** [Automatically accepted existing value]
Pipeline bot Git username ************* [Automatically accepted existing value]
Pipeline bot Git email address simon@simonjamesrowe.com [Automatically accepted existing value]
Pipeline bot Git token *** [Automatically accepted existing value]
HMAC token, used to validate incoming webhooks. Press enter to use the generated token *** [Automatically accepted existing value]
AWS Access Key for Route 53 Access *** [Automatically accepted existing value]
AWS Secret for Route 53 Access *** [Automatically accepted existing value]
Route 53 zone id *** [Automatically accepted existing value]
Root Password for mongoDB *** [Automatically accepted existing value]
Do you want to configure non default Docker Registry? true [Automatically accepted existing value]
Docker Registry Url harbor.simonjamesrowe.com [Automatically accepted existing value]
Docker Registry username ***** [Automatically accepted existing value]
Docker Registry password *** [Automatically accepted existing value]
Docker Registry email simon@simonjamesrowe.com [Automatically accepted existing value]
WARNING: Unexpected registry auth URL harbor.simonjamesrowe.com - using it as registry push URL

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-create-install-values[0m
WARNING: Note that we have only tested TLS support on Google Container Engine with external-dns so far. This may not work!

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-install-external-dns[0m
Modified file /workspace/source/systems/external-dns/Chart.yaml to set the chart to version 1
creating the lock configmap **-lock-**
lock configmap **-lock-** created
Adding missing Helm repo: charts.bitnami.com https://charts.bitnami.com/bitnami
Successfully added Helm repository charts.bitnami.com.
cleaning the lock configmap **-lock-**

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-install-cert-manager-crds[0m
customresourcedefinition.apiextensions.k8s.io/challenges.acme.cert-manager.io configured
customresourcedefinition.apiextensions.k8s.io/orders.acme.cert-manager.io configured
customresourcedefinition.apiextensions.k8s.io/certificaterequests.cert-manager.io configured
customresourcedefinition.apiextensions.k8s.io/certificates.cert-manager.io configured
customresourcedefinition.apiextensions.k8s.io/clusterissuers.cert-manager.io configured
customresourcedefinition.apiextensions.k8s.io/issuers.cert-manager.io configured

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-install-cert-manager[0m
Modified file /workspace/source/systems/cm/Chart.yaml to set the chart to version 1
creating the lock configmap **-lock-cert-manager
lock configmap **-lock-cert-manager created
Adding missing Helm repo: charts.jetstack.io https://charts.jetstack.io
Successfully added Helm repository charts.jetstack.io.


cleaning the lock configmap **-lock-cert-manager

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-create-acme-config[0m
Saved the rendered configuration into values.yaml file

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-install-acme-issuer-and-certificate[0m
Modified file /workspace/source/systems/acme/Chart.yaml to set the chart to version 1
creating the lock configmap **-lock-**
lock configmap **-lock-** created
Ignoring templates/cert-manager-aws-secret.yaml
Ignoring templates/cert-manager-prod-certificate.yaml
Ignoring templates/cert-manager-prod-issuer.yaml
Ignoring templates/cert-manager-staging-certificate.yaml
Ignoring templates/cert-manager-staging-issuer.yaml
No requirements file: /tmp/**-helm-apply-890258747/acme/requirements.yaml so not checking for missing versions

cleaning the lock configmap **-lock-**

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-install-vault[0m
Not attempting to boot Vault as using secret storage: local

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-create-jx-auth-config[0m
Saved the rendered configuration into templates/**-auth-configmap.yaml file

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-install-jx-auth-config[0m
Modified file /workspace/source/systems/**-auth/Chart.yaml to set the chart to version 1
creating the lock configmap **-lock-**
lock configmap **-lock-** created
Ignoring templates/**-auth-configmap.yaml
No requirements file: /tmp/**-helm-apply-881272699/**-auth/requirements.yaml so not checking for missing versions
cleaning the lock configmap **-lock-**

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-install-jenkins-x[0m
Modified file /workspace/source/env/Chart.yaml to set the chart to version 1
creating the lock configmap **-lock-**
lock configmap **-lock-** created
Ignoring templates/.gitignore
Ignoring templates/mongo-application-secrets.yaml
Applying the kubernetes overrides at ../kubeProviders/kind/values.tmpl.yaml
Adding missing Helm repo: chartmuseum.jenkins-x.io http://chartmuseum.jenkins-x.io
Successfully added Helm repository chartmuseum.jenkins-x.io.
Adding missing Helm repo: helm.goharbor.io https://helm.goharbor.io
Successfully added Helm repository helm.goharbor.io.
Adding missing Helm repo: helm.mittwald.de https://helm.mittwald.de
Successfully added Helm repository helm.mittwald.de.

cleaning the lock configmap **-lock-**

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-verify-jenkins-x-environment[0m
Storing the requirements in team settings in the dev environment
Validating git repository for dev environment at URL https://github.com/simonjamesrowe/environment-simonjamesrowe-dev.git
Validating git repository for production environment at URL https://github.com/simonjamesrowe/environment-simonjamesrowe-production.git
Using Git provider github at https://github.com
? Using Git user name: *************
? Using organisation: simonjamesrowe
Creating repository simonjamesrowe/environment-simonjamesrowe-production
Git repository simonjamesrowe/environment-simonjamesrowe-production already exists
Pushed Git repository to https://github.com/simonjamesrowe/environment-simonjamesrowe-production

Validating git repository for staging environment at URL https://github.com/simonjamesrowe/environment-simonjamesrowe-staging.git
Using Git provider github at https://github.com
? Using Git user name: *************
? Using organisation: simonjamesrowe
Creating repository simonjamesrowe/environment-simonjamesrowe-staging
Git repository simonjamesrowe/environment-simonjamesrowe-staging already exists
Pushed Git repository to https://github.com/simonjamesrowe/environment-simonjamesrowe-staging

Environment git repositories look good


Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-install-repositories[0m
Modified file /workspace/source/repositories/Chart.yaml to set the chart to version 1
creating the lock configmap **-lock-**
lock configmap **-lock-** created
Ignoring templates/default-group.yaml
Ignoring templates/simonjamesrowe-demo-sr.yaml
No requirements file: /tmp/**-helm-apply-817957287/repositories/requirements.yaml so not checking for missing versions
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.

cleaning the lock configmap **-lock-**

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-install-pipelines[0m

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-update-webhooks[0m
DEBUG: Finding service url for hook in namespace **
DEBUG: Couldn't find service url, attempting to look up via ingress
DEBUG: found service url https://hook-**.simonjamesrowe.com
Updating webhooks for Owner: simonjamesrowe and Repository: api-gateway in git server: https://github.com
Checking hooks for repository simonjamesrowe/api-gateway with user *************
Found matching hook for url https://hook-**.simonjamesrowe.com/hook
Updating GitHub webhook for simonjamesrowe/api-gateway for url https://hook-**.simonjamesrowe.com/hook
Updating webhooks for Owner: simonjamesrowe and Repository: demo in git server: https://github.com
Checking hooks for repository simonjamesrowe/demo with user *************
Found matching hook for url https://hook-**.simonjamesrowe.com/hook
Updating GitHub webhook for simonjamesrowe/demo for url https://hook-**.simonjamesrowe.com/hook
Updating webhooks for Owner: simonjamesrowe and Repository: environment-simonjamesrowe-dev in git server: https://github.com
Checking hooks for repository simonjamesrowe/environment-simonjamesrowe-dev with user *************
Found matching hook for url https://hook-**.simonjamesrowe.com/hook
Updating GitHub webhook for simonjamesrowe/environment-simonjamesrowe-dev for url https://hook-**.simonjamesrowe.com/hook
Updating webhooks for Owner: simonjamesrowe and Repository: environment-simonjamesrowe-production in git server: https://github.com
Checking hooks for repository simonjamesrowe/environment-simonjamesrowe-production with user *************
Found matching hook for url https://hook-**.simonjamesrowe.com/hook
Updating GitHub webhook for simonjamesrowe/environment-simonjamesrowe-production for url https://hook-**.simonjamesrowe.com/hook
Updating webhooks for Owner: simonjamesrowe and Repository: environment-simonjamesrowe-staging in git server: https://github.com
Checking hooks for repository simonjamesrowe/environment-simonjamesrowe-staging with user *************
Found matching hook for url https://hook-**.simonjamesrowe.com/hook
Updating GitHub webhook for simonjamesrowe/environment-simonjamesrowe-staging for url https://hook-**.simonjamesrowe.com/hook
Updating webhooks for Owner: simonjamesrowe and Repository: react-ui in git server: https://github.com
Checking hooks for repository simonjamesrowe/react-ui with user *************
Found matching hook for url https://hook-**.simonjamesrowe.com/hook
Updating GitHub webhook for simonjamesrowe/react-ui for url https://hook-**.simonjamesrowe.com/hook
Updating webhooks for Owner: simonjamesrowe and Repository: strapi-cms in git server: https://github.com
Checking hooks for repository simonjamesrowe/strapi-cms with user *************
Found matching hook for url https://hook-**.simonjamesrowe.com/hook
Updating GitHub webhook for simonjamesrowe/strapi-cms for url https://hook-**.simonjamesrowe.com/hook

Showing logs for build [32msimonjamesrowe-environment-simo-5xzjn-1[0m stage [32mrelease[0m and container [32mstep-verify-installation[0m
verifying the Jenkins X installation in namespace **
verifying pods
Checking pod statuses
POD                                             STATUS
jenkins-x-chartmuseum-5459d54d46-p526h          Running
jenkins-x-controllerbuild-75b5d9b997-89cbr      Running
jenkins-x-controllerrole-c5678dd64-ccg5n        Running
jenkins-x-gcactivities-1594189800-vx8r4         Succeeded
jenkins-x-gcactivities-1594191600-t7pvz         Succeeded
jenkins-x-gcpods-1594189800-29zsd               Succeeded
jenkins-x-gcpods-1594191600-q9clj               Succeeded
jenkins-x-harbor-core-586dd6cc75-d68nr          Running
jenkins-x-harbor-database-0                     Running
jenkins-x-harbor-jobservice-699d5dfcd5-vz25n    Running
jenkins-x-harbor-jobservice-c9f9c7949-5wdmt     Running
jenkins-x-harbor-portal-6bc8b75447-2wdzj        Running
jenkins-x-harbor-redis-0                        Running
jenkins-x-harbor-registry-84459c98b7-hktnc      Running
jenkins-x-heapster-95c5bd7dd-jmkp7              Running
jenkins-x-**ui-5c484478fb-sfs5f                 Running
jenkins-x-kubernetes-replicator-8b7f55bb6-fcvqs Running
jenkins-x-mongodb-d5548c4b-7s5bn                Running
jenkins-x-nexus-847786fbc7-kh9fg                Running
lighthouse-foghorn-6bbc7ccb88-bmv5l             Running
lighthouse-gc-jobs-1594189800-wjw4m             Succeeded
lighthouse-gc-jobs-1594191600-vgpl5             Succeeded
lighthouse-keeper-6f444cb748-vmkw7              Running
lighthouse-webhooks-c5b776895-hh4p9             Running
lighthouse-webhooks-c5b776895-pqfmf             Running
tekton-pipelines-controller-566bfd578-4r74k     Running
WARNING: the following pods are not ready:
Running: jenkins-x-harbor-jobservice-699d5dfcd5-vz25n, jenkins-x-**ui-5c484478fb-sfs5f

Waiting 30m0s for the pods to become ready...

WARNING: retrying after error: the following pods are not ready:
Running: jenkins-x-harbor-jobservice-699d5dfcd5-vz25n, jenkins-x-**ui-5c484478fb-sfs5f
WARNING: retrying after error: the following pods are not ready:
Running: jenkins-x-**ui-5c484478fb-sfs5f
.
.
.
.

POD                                             STATUS
jenkins-x-chartmuseum-5459d54d46-p526h          Running
jenkins-x-controllerbuild-75b5d9b997-89cbr      Running
jenkins-x-controllerrole-c5678dd64-ccg5n        Running
jenkins-x-gcactivities-1594189800-vx8r4         Succeeded
jenkins-x-gcactivities-1594191600-t7pvz         Succeeded
jenkins-x-gcpods-1594189800-29zsd               Succeeded
jenkins-x-gcpods-1594191600-q9clj               Succeeded
jenkins-x-harbor-core-586dd6cc75-d68nr          Running
jenkins-x-harbor-database-0                     Running
jenkins-x-harbor-jobservice-c9f9c7949-5wdmt     Running
jenkins-x-harbor-portal-6bc8b75447-2wdzj        Running
jenkins-x-harbor-redis-0                        Running
jenkins-x-harbor-registry-84459c98b7-hktnc      Running
jenkins-x-heapster-95c5bd7dd-jmkp7              Running
jenkins-x-**ui-5c484478fb-sfs5f                 Running
jenkins-x-kubernetes-replicator-8b7f55bb6-fcvqs Running
jenkins-x-mongodb-d5548c4b-7s5bn                Running
jenkins-x-nexus-847786fbc7-kh9fg                Running
lighthouse-foghorn-6bbc7ccb88-bmv5l             Running
lighthouse-gc-jobs-1594189800-wjw4m             Succeeded
lighthouse-gc-jobs-1594191600-vgpl5             Succeeded
lighthouse-keeper-6f444cb748-vmkw7              Running
lighthouse-webhooks-c5b776895-hh4p9             Running
lighthouse-webhooks-c5b776895-pqfmf             Running
tekton-pipelines-controller-566bfd578-4r74k     Running
Verifying the git config
Verifying username ************* at git server github at https://github.com
Found 1 organisations in git server https://github.com: simonjamesrowe
Validated pipeline user ************* on git server https://github.com
Git tokens seem to be setup correctly
Installation is currently looking: GOOD
